(window.odspNextWebpackJsonp=window.odspNextWebpackJsonp||[]).push([[300],{2871:function(e,t,n){"use strict";n.r(t),n.d(t,"resourceKey",function(){return u});var a=n(0),i=n(1295),r=n(490),o=n(1918),s=n(2050),c=n(517),d=n(338),l=function(e){function t(t,n){var a=e.call(this,t,n)||this;return a._identityDataSource=n.identityDataSource,a._pushChannelProvider=n.pushChannelProvider,a._identityDataSource.getIdentity().type!==d.e.anonymous&&(a._notificationHandlerDebounce=a.async.debounce(function(){a._handleWebhookSubscriptionMessage()},5e4,{leading:!0,maxWait:5e4}),a._pushChannelProvider.setupNotificationHandler({source:o.t.WebhookSubscription,scenarios:[o.e.ProfileChange]},function(){a._notificationHandlerDebounce()})),a}return Object(a.__extends)(t,e),t.prototype._handleWebhookSubscriptionMessage=function(){this._pushChannelProvider.log(o.n.PushChannelProvider,"handling profile change event"),this._identityDataSource.refreshAuthTicket()},t.dependencies=Object(a.__assign)(Object(a.__assign)({},i.n.dependencies),{identityDataSource:c.e,pushChannelProvider:s.e}),t}(i.n);t.default=l;var u=Object(r.r)("ProfileChangeHandler",l,{identityDataSource:c.e,pushChannelProvider:s.e})}}]);